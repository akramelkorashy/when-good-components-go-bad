Ask Nora about CompStateMonad
label generation
WTF about buffers "value + nat"

use (val ...) to coerce